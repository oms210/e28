{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?a676"],"names":["id","user","name","favorites","length","favorite","key","logout","type","data","email","password","login","errors","error","index","class","computed","this","$store","state","products","methods","post","then","response","authenticated","commit","success","watch","mounted","render"],"mappings":"sJACSA,GAAG,gB,aAIKA,GAAG,a,EACJ,eAA+B,cAAvB,kBAAc,G,mBAYlBA,GAAG,a,EACX,eAAc,UAAV,SAAK,G,EACT,eAGQ,aAHD,iFAGP,G,iBAEW,Y,iBAMA,e,0DA9BnB,eA4CM,MA5CN,EA4CM,CA3CS,EAAAC,M,iBAAX,eAcM,SAbF,eAA6B,UAAzB,OAAI,eAAG,EAAAA,KAAKC,MAAO,IAAC,GAExB,eAQM,MARN,EAQM,CAPF,EACS,EAAAC,WAA6B,GAAhB,EAAAA,UAAUC,Q,iBAAhC,eAEI,MAFyC,wB,0CAG7C,eAEK,2BAFyB,EAAAD,WAAS,SAA3BE,EAAUC,G,wBAAtB,eAEK,MAF2CA,IAAKA,GAAG,eACjDD,EAASH,MAAI,M,QAIxB,eAA2C,UAA9B,QAAK,8BAAE,EAAAK,QAAA,EAAAA,OAAA,sBAAQ,c,iBAGhC,eA0BM,MA1BN,EA0BM,CAzBF,EACA,EAIA,eAKM,YAJF,eAGQ,c,iBADJ,eAA0C,SAAnCC,KAAK,O,qDAAgB,EAAAC,KAAKC,MAAK,K,mBAAV,EAAAD,KAAKC,aAGzC,eAKM,YAJF,eAGQ,c,iBADJ,eAAiD,SAA1CF,KAAK,W,qDAAoB,EAAAC,KAAKE,SAAQ,K,mBAAb,EAAAF,KAAKE,gBAI7C,eAAyC,UAA5B,QAAK,8BAAE,EAAAC,OAAA,EAAAA,MAAA,sBAAO,SAEjB,EAAAC,Q,iBAAV,eAIK,S,mBAHD,eAEK,2BAFsC,EAAAA,QAAM,SAAvBC,EAAOC,G,wBAAjC,eAEK,MAFDC,MAAM,QAA0CV,IAAKS,G,eAClDD,GAAK,M,oDAUb,GACXL,KADW,WAEP,MAAO,CAGHA,KAAM,CACFC,MAAO,mBACPC,SAAU,YAEdE,OAAQ,KACRV,UAAW,KAGnBc,SAAU,CACNhB,KADM,WAEF,OAAOiB,KAAKC,OAAOC,MAAMnB,MAE7BoB,SAJM,WAKF,OAAOH,KAAKC,OAAOC,MAAMC,WAGjCC,QAAS,CAgBLV,MAhBK,WAgBG,WACJ,OAAMW,KAAK,QAASL,KAAKT,MAAMe,MAAK,SAACC,GAC7BA,EAAShB,KAAKiB,cACd,EAAKP,OAAOQ,OAAO,UAAWF,EAAShB,KAAKR,MAE5C,EAAKY,OAASY,EAAShB,KAAKI,WAIxCN,OAzBK,WAyBI,WACL,OAAMgB,KAAK,UAAUC,MAAK,SAACC,GACnBA,EAAShB,KAAKmB,SACd,EAAKT,OAAOQ,OAAO,UAAW,WAK9CE,MAAO,GAKPC,QA3DW,cChDf,EAAOC,OAASA,EAED","file":"js/chunk-2d0ea123.2c135757.js","sourcesContent":["<template>\r\n    <div id=\"account-page\">\r\n        <div v-if=\"user\">\r\n            <h2>Hi, {{ user.name }}!</h2>\r\n\r\n            <div id=\"favorites\">\r\n                <strong>Your Favorites</strong>\r\n                <p v-if=\"favorites && favorites.length == 0\">\r\n                    No favorites yet.\r\n                </p>\r\n                <li v-for=\"(favorite, key) in favorites\" v-bind:key=\"key\">\r\n                    {{ favorite.name }}\r\n                </li>\r\n            </div>\r\n\r\n            <button v-on:click=\"logout\">Logout</button>\r\n        </div>\r\n\r\n        <div v-else id=\"loginForm\">\r\n            <h2>Login</h2>\r\n            <small>\r\n                (Form is prefilled for demonstration purposes; remove in final\r\n                application)\r\n            </small>\r\n            <div>\r\n                <label>\r\n                    Email:\r\n                    <input type=\"text\" v-model=\"data.email\" />\r\n                </label>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Password:\r\n                    <input type=\"password\" v-model=\"data.password\" />\r\n                </label>\r\n            </div>\r\n\r\n            <button v-on:click=\"login\">Login</button>\r\n\r\n            <ul v-if=\"errors\">\r\n                <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\r\n                    {{ error }}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { axios } from \"@/common/app.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            // Form is prefilled for demonstration purposes; remove in final application\r\n            // jill@harvard.edu/asdfasdf is one of our seed users from e28api/seeds/user.json\r\n            data: {\r\n                email: \"jill@harvard.edu\",\r\n                password: \"asdfasdf\",\r\n            },\r\n            errors: null,\r\n            favorites: [],\r\n        };\r\n    },\r\n    computed: {\r\n        user() {\r\n            return this.$store.state.user;\r\n        },\r\n        products() {\r\n            return this.$store.state.products;\r\n        },\r\n    },\r\n    methods: {\r\n        // loadFavorites() {\r\n        //     if (this.user) {\r\n        //         axios\r\n        //             .get(\"favorite/query?user_id=\" + this.user.id)\r\n        //             .then((response) => {\r\n        //                 this.favorites = response.data.favorite.map(\r\n        //                     (favorite) => {\r\n        //                         return this.$store.getters.getProductById(\r\n        //                             favorite.product_id\r\n        //                         );\r\n        //                     }\r\n        //                 );\r\n        //             });\r\n        //     }\r\n        // },\r\n        login() {\r\n            axios.post(\"login\", this.data).then((response) => {\r\n                if (response.data.authenticated) {\r\n                    this.$store.commit(\"setUser\", response.data.user);\r\n                } else {\r\n                    this.errors = response.data.errors;\r\n                }\r\n            });\r\n        },\r\n        logout() {\r\n            axios.post(\"logout\").then((response) => {\r\n                if (response.data.success) {\r\n                    this.$store.commit(\"setUser\", null);\r\n                }\r\n            });\r\n        },\r\n    },\r\n    watch: {\r\n        // user() {\r\n        //     this.loadFavorites();\r\n        // },\r\n    },\r\n    mounted() {\r\n        //this.loadFavorites();\r\n    },\r\n};\r\n</script>","import { render } from \"./AccountPage.vue?vue&type=template&id=5196ca64\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}